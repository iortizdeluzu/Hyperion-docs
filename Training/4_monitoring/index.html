<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Hyperion Technical Documentation"><meta name=author content="DIPC CC Staff"><link href=https://hyperion-docs.com/Training/4_monitoring/ rel=canonical><link href=../3_first-job/ rel=prev><link href=../6_postrun/ rel=next><link rel=icon href=../../images/favicon.ico><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.10"><title>Monitoring - Hyperion Documentation Webpage</title><link rel=stylesheet href=../../assets/stylesheets/main.0d440cfe.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><link rel=stylesheet href=../../stylesheets/dark-palette.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#monitoring class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Hyperion Documentation Webpage" class="md-header__button md-logo" aria-label="Hyperion Documentation Webpage" data-md-component=logo> <img src=../../images/dipc-logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Hyperion Documentation Webpage </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Monitoring </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=custom-dark data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Hyperion Documentation Webpage" class="md-nav__button md-logo" aria-label="Hyperion Documentation Webpage" data-md-component=logo> <img src=../../images/dipc-logo.png alt=logo> </a> Hyperion Documentation Webpage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../about/ class=md-nav__link> About </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Training <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Training </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction/1_introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../workflow/2_workflow/ class=md-nav__link> Workflow </a> </li> <li class=md-nav__item> <a href=../3_first-job/ class=md-nav__link> First Job </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Monitoring <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Monitoring </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#squeue class=md-nav__link> squeue </a> <nav class=md-nav aria-label=squeue> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1-viewing-all-jobs-in-a-specific-partition class=md-nav__link> Example 1: Viewing All Jobs in a Specific Partition </a> </li> <li class=md-nav__item> <a href=#example-2-viewing-jobs-in-specific-states class=md-nav__link> Example 2: Viewing Jobs in Specific States </a> </li> <li class=md-nav__item> <a href=#example-3-sorting-jobs class=md-nav__link> Example 3: Sorting Jobs </a> </li> <li class=md-nav__item> <a href=#example-4-showing-extended-job-information class=md-nav__link> Example 4: Showing Extended Job Information </a> </li> <li class=md-nav__item> <a href=#example-5-displaying-job-information-in-parsable-format class=md-nav__link> Example 5: Displaying Job Information in Parsable Format </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sacct class=md-nav__link> sacct </a> </li> <li class=md-nav__item> <a href=#sstat class=md-nav__link> sstat </a> </li> <li class=md-nav__item> <a href=#seff class=md-nav__link> seff </a> </li> <li class=md-nav__item> <a href=#scontrol class=md-nav__link> scontrol </a> </li> <li class=md-nav__item> <a href=#sinfo class=md-nav__link> sinfo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../5_contrains.md class=md-nav__link> Constrains </a> </li> <li class=md-nav__item> <a href=../6_postrun/ class=md-nav__link> Post Run </a> </li> <li class=md-nav__item> <a href=../7_examples/ class=md-nav__link> Examplex </a> </li> <li class=md-nav__item> <a href=../advanced/ class=md-nav__link> Advanced </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#squeue class=md-nav__link> squeue </a> <nav class=md-nav aria-label=squeue> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1-viewing-all-jobs-in-a-specific-partition class=md-nav__link> Example 1: Viewing All Jobs in a Specific Partition </a> </li> <li class=md-nav__item> <a href=#example-2-viewing-jobs-in-specific-states class=md-nav__link> Example 2: Viewing Jobs in Specific States </a> </li> <li class=md-nav__item> <a href=#example-3-sorting-jobs class=md-nav__link> Example 3: Sorting Jobs </a> </li> <li class=md-nav__item> <a href=#example-4-showing-extended-job-information class=md-nav__link> Example 4: Showing Extended Job Information </a> </li> <li class=md-nav__item> <a href=#example-5-displaying-job-information-in-parsable-format class=md-nav__link> Example 5: Displaying Job Information in Parsable Format </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sacct class=md-nav__link> sacct </a> </li> <li class=md-nav__item> <a href=#sstat class=md-nav__link> sstat </a> </li> <li class=md-nav__item> <a href=#seff class=md-nav__link> seff </a> </li> <li class=md-nav__item> <a href=#scontrol class=md-nav__link> scontrol </a> </li> <li class=md-nav__item> <a href=#sinfo class=md-nav__link> sinfo </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=monitoring>Monitoring<a class=headerlink href=#monitoring title="Permanent link">&para;</a></h1> <p>As we progress through our exploration of SLURM, we now approach an essential aspect of job management - monitoring. After you've submitted your job to the HPC cluster (like our Pi estimation job from the previous example), you'll want to track its status. Monitoring allows you to understand your job's progress, check its resource usage, and help identify any potential issues that could affect its successful completion. SLURM provides several tools to assist you in job monitoring, including <code>squeue</code>, <code>sacct</code>, <code>sstat</code>, and <code>seff</code>. Let's dive into these commands, understand their usage, and see how we can leverage them for efficient job tracking.</p> <p>Absolutely. Here's a more comprehensive version of the <code>squeue</code> section.</p> <h2 id=squeue>squeue<a class=headerlink href=#squeue title="Permanent link">&para;</a></h2> <p>Think of <code>squeue</code> as your immediate source of information about your jobs. The <code>squeue</code> command displays information about jobs located in the SLURM scheduling queue. Let's say you've just submitted your Pi estimation job, and you're keen to check its status. Here's how to do it:</p> <div class=highlight><pre><span></span><code>squeue<span class=w> </span>-u<span class=w> </span><span class=nv>$USER</span>
</code></pre></div> <p>The <code>-u</code> flag followed by <code>$USER</code> allows you to filter the jobs belonging to your user. The output will be a table listing your jobs:</p> <div class=highlight><pre><span></span><code>  JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
123456     debug pi_estim  username  R       0:25      1 node007
</code></pre></div> <p>Let's decipher the output:</p> <ul> <li><code>JOBID</code>: Unique identifier of your job in the SLURM system.</li> <li><code>PARTITION</code>: The partition (or queue) where your job is placed.</li> <li><code>NAME</code>: The name of your job.</li> <li><code>USER</code>: The user who owns the job.</li> <li><code>ST</code>: The state of your job (<code>R</code> signifies that the job is currently running).</li> <li><code>TIME</code>: The time your job has been running.</li> <li><code>NODES</code>: The number of nodes your job is using.</li> <li><code>NODELIST(REASON)</code>: The specific node(s) your job is running on.</li> </ul> <p>If you wish to customize the display and show specific fields, you can use the <code>-o/--format</code> option. For example, to display the job ID, name, state, and the number of CPUs:</p> <div class=highlight><pre><span></span><code>squeue<span class=w> </span>-u<span class=w> </span><span class=nv>$USER</span><span class=w> </span>-o<span class=w> </span><span class=s2>&quot;%.10i %.9P %.8j %.8u %.2t %.6D&quot;</span>
</code></pre></div> <p>The format option <code>%.10i %.9P %.8j %.8u %.2t %.6D</code> is used to customize the output. Here's what each of these specifiers means:</p> <ul> <li><code>%.10i</code>: Job ID with a field width of 10 characters.</li> <li><code>%.9P</code>: Partition name with a field width of 9 characters.</li> <li><code>%.8j</code>: Job name with a field width of 8 characters.</li> <li><code>%.8u</code>: User name with a field width of 8 characters.</li> <li><code>%.2t</code>: Job state with a field width of 2 characters.</li> <li><code>%.6D</code>: Number of nodes with a field width of 6 characters.</li> </ul> <p>Field width specifies the minimum number of characters to be printed. If the value to be printed is shorter than this number, the result is padded with blank spaces. The full list of available options can be found in the <a href=https://slurm.schedmd.com/squeue.html>SLURM documentation</a>.</p> <p>With the <code>squeue</code> command, you can stay updated with the status and progress of your job in the scheduling queue. In the next section, we will explore <code>sacct</code> and <code>sstat</code> to get more detailed information about the resource usage of your job.</p> <p>Sure, let's dive into more ways you can use <code>squeue</code> to monitor your jobs.</p> <h3 id=example-1-viewing-all-jobs-in-a-specific-partition>Example 1: Viewing All Jobs in a Specific Partition<a class=headerlink href=#example-1-viewing-all-jobs-in-a-specific-partition title="Permanent link">&para;</a></h3> <p>If you want to view all jobs currently in a specific partition, you can use the <code>-p</code> or <code>--partition</code> option. For example, to view all jobs in the <code>regular</code> partition:</div></p> <div class=highlight><pre><span></span><code>squeue<span class=w> </span>-p<span class=w> </span>regular
</code></pre></div> <p>This will show all jobs currently in the 'regular' partition, regardless of the user who submitted them.</p> <h3 id=example-2-viewing-jobs-in-specific-states>Example 2: Viewing Jobs in Specific States<a class=headerlink href=#example-2-viewing-jobs-in-specific-states title="Permanent link">&para;</a></h3> <p>You can use <code>squeue</code> to display jobs in specific states. This can be particularly useful when you want to see how many jobs are running, pending, or completed. Use the <code>-t</code> or <code>--states</code> option followed by the state:</p> <div class=highlight><pre><span></span><code>squeue<span class=w> </span>-u<span class=w> </span><span class=nv>$USER</span><span class=w> </span>-t<span class=w> </span>RUNNING
</code></pre></div> <p>This command will show all your jobs currently running.</p> <p>Here are all the job states you can query using the <code>-t</code> or <code>--states</code> option of <code>squeue</code>:</p> <ul> <li> <p><code>PENDING</code> (or <code>PD</code>): Job is awaiting resource allocation. Your job might be pending because the resources it needs are not currently available, or it might be waiting in line due to job scheduling policies.</p> </li> <li> <p><code>RUNNING</code> (or <code>R</code>): Job currently has an allocation and is running.</p> </li> <li> <p><code>SUSPENDED</code> (or <code>S</code>): Job has an allocation, but execution has been suspended and CPU usage has been reduced to zero, often due to some system event.</p> </li> <li> <p><code>COMPLETING</code> (or <code>CG</code>): Job is in the process of completing. Some processes of the job are still running.</p> </li> <li> <p><code>COMPLETED</code> (or <code>CD</code>): Job has completed successfully.</p> </li> <li> <p><code>CONFIGURING</code> (or <code>CF</code>): Job has been allocated resources, but are being configured for the job.</p> </li> <li> <p><code>CANCELLED</code> (or <code>CA</code>): Job was explicitly cancelled by the user or system administrator. The job may or may not have been initiated.</p> </li> <li> <p><code>FAILED</code> (or <code>F</code>): Job terminated with non-zero exit code or other failure condition.</p> </li> <li> <p><code>TIMEOUT</code> (or <code>TO</code>): Job terminated upon reaching its time limit.</p> </li> <li> <p><code>PREEMPTED</code> (or <code>PR</code>): Job was preempted by a higher priority job.</p> </li> <li> <p><code>NODE_FAIL</code> (or <code>NF</code>): Job terminated due to failure of one or more allocated nodes.</p> </li> <li> <p><code>REVOKED</code> (or <code>RV</code>): Sibling job was unable to allocate resources and was revoked.</p> </li> <li> <p><code>SPECIAL_EXIT</code> (or <code>SE</code>): The job terminated in a condition that is interpreted as an exit code.</p> </li> </ul> <h3 id=example-3-sorting-jobs>Example 3: Sorting Jobs<a class=headerlink href=#example-3-sorting-jobs title="Permanent link">&para;</a></h3> <p><code>squeue</code> can also sort jobs based on various attributes such as priority, job ID, time left, etc. For instance, to sort your jobs based on their remaining time in descending order, use the <code>--sort</code> option:</p> <p><div class=highlight><pre><span></span><code>squeue<span class=w> </span>-u<span class=w> </span><span class=nv>$USER</span><span class=w> </span>--sort<span class=o>=</span>-t
</code></pre></div> This will display your jobs in descending order of remaining time (<code>-t</code>). The <code>-</code> sign before <code>t</code> is used for descending order. Without it, the jobs would be sorted in ascending order.</p> <p>These examples show the versatility of the <code>squeue</code> command and how it can be customized to get specific information about your jobs. Please remember to replace <code>$USER</code> with your username or keep it as is if you're running these commands directly in your terminal session. The full list of options is available in the <a href=https://slurm.schedmd.com/squeue.html>SLURM documentation</a>.</p> <h3 id=example-4-showing-extended-job-information>Example 4: Showing Extended Job Information<a class=headerlink href=#example-4-showing-extended-job-information title="Permanent link">&para;</a></h3> <p>If you want to see more detailed information about a particular job, including its start time, estimated end time, and the nodes it's running on, you can use the <code>-l</code> or <code>--long</code> option. </p> <p><div class=highlight><pre><span></span><code>squeue -j 123456 --long
</code></pre></div> This command will display extended information about the job with ID 123456 (replace it with your job ID). The output might look like this:&lt;</p> <div class=highlight><pre><span></span><code>Tue May 23 10:15:39 2023
   JOBID PARTITION     NAME     USER ST       START        END  NODES NODELIST(REASON)
  123456     test  pi_estim    myuser  R 10:15:39 10:17:39      1 n0001
</code></pre></div> <h3 id=example-5-displaying-job-information-in-parsable-format>Example 5: Displaying Job Information in Parsable Format<a class=headerlink href=#example-5-displaying-job-information-in-parsable-format title="Permanent link">&para;</a></h3> <p>For scripts or other automated tasks, you might want to obtain the job information in a parsable format. The <code>-h</code> or <code>--noheader</code> option can be used to suppress the header, and the <code>--Format</code> option allows you to specify the exact fields you need. For instance:</p> <p><div class=highlight><pre><span></span><code>squeue -j 123456 --noheader --Format=jobid,username,state
</code></pre></div> This will return a single line of output with the job ID, username, and state, separated by pipe characters. The output might look like:</p> <p><div class=highlight><pre><span></span><code>123456|myuser|RUNNING
</code></pre></div> In these examples, remember to replace <code>123456</code> with the ID of your job, and <code>myuser</code> with your username. The full list of format specifiers and options can be found in the <a href=https://slurm.schedmd.com/squeue.html>SLURM documentation</a>.</p> <h2 id=sacct>sacct<a class=headerlink href=#sacct title="Permanent link">&para;</a></h2> <p>The <code>sacct</code> command provides accounting data for all jobs and job steps in the SLURM workload manager. It's a treasure trove of information about your job's performance, offering insights into resource usage and time spent on different stages.</p> <p>To view the accounting data for a specific job, use the <code>-j</code> flag followed by the job id:</p> <p><div class=highlight><pre><span></span><code>sacct -j 123456 --format=JobID,JobName,MaxRSS,Elapsed
</code></pre></div> The <code>--format</code> option customizes the output, similar to the <code>squeue</code> command. In the above command, we are asking for the Job ID, Job Name, Maximum RSS memory used, and the Elapsed time of the job. A full list of available format options can be found in the <a href=https://slurm.schedmd.com/squeue.html>SLURM documentation</a>.</p> <p>The output might look like this:</p> <div class=highlight><pre><span></span><code>       JobID    JobName     MaxRSS    Elapsed 
------------ ---------- ---------- ---------- 
123456           pi_estim   10000K   00:02:00
</code></pre></div> <h2 id=sstat>sstat<a class=headerlink href=#sstat title="Permanent link">&para;</a></h2> <p><code>sstat</code> allows us to fetch the real-time status of a running job or step. This command gives us live updates on resource usage, which can be essential for optimizing your application.</p> <p>To get real-time stats of your running job:</p> <p><div class=highlight><pre><span></span><code>sstat<span class=w> </span>-j<span class=w> </span><span class=m>123456</span><span class=w> </span>--format<span class=o>=</span>JobID,AveCPU,AveRSS,AveVMSize
</code></pre></div> Again, the <code>--format</code> option allows us to customize the output. This command displays the Job ID, average CPU usage, average resident set size (RSS) memory, and average virtual memory size.</p> <p>Here is a sample output:</p> <div class=highlight><pre><span></span><code>  JobID     AveCPU     AveRSS    AveVMSize
--------- ---------- ---------- -----------
123456    00:02:00   100.00MB    500.00MB
</code></pre></div> <p>The full list of format options can be found in the <a href=https://slurm.schedmd.com/squeue.html>SLURM documentation</a>.</p> <h2 id=seff>seff<a class=headerlink href=#seff title="Permanent link">&para;</a></h2> <p><code>seff</code> provides a brief summary of the efficiency of your job. Although it's not part of the default SLURM installation, it's widely used due to its effectiveness.</p> <div class=highlight><pre><span></span><code>seff<span class=w> </span><span class=m>123456</span>
</code></pre></div> <p>This command will return something like this:</p> <div class=highlight><pre><span></span><code>Job ID: 123456
Cluster: cluster_name
User/Group: user/group
State: COMPLETED (exit code 0)
Cores: 4
CPU Utilized: 00:08:00
CPU Efficiency: 100.00% of 00:08:00 core-walltime
Wall-clock time: 00:02:00
Memory Utilized: 100.00 MB
Memory Efficiency: 25.00% of 400.00 MB
</code></pre></div> <p>This output provides an overall picture of how efficiently your job utilized the allocated resources, which can be crucial in optimizing your application for an HPC environment. The use of these commands will give you a good understanding of how your job is performing and where there might be room for improvement.</p> <h2 id=scontrol>scontrol<a class=headerlink href=#scontrol title="Permanent link">&para;</a></h2> <p><code>scontrol</code> is a utility provided by SLURM for administrative tasks, but it also has several functions that can be useful for users. One of these is the ability to display detailed information about a specific job. For example:</p> <div class=highlight><pre><span></span><code>scontrol<span class=w> </span>show<span class=w> </span>job<span class=w> </span><span class=m>123456</span>
</code></pre></div> <p>This command will show a detailed description of the job with ID 123456, including the time it was submitted, its current state, the partition it's running in, the resources it's using, and many other details. </p> <p>Here's a truncated example of what the output might look like:</p> <div class=highlight><pre><span></span><code>JobId=123456 JobName=pi_estim
   UserId=myuser(1000) GroupId=myuser(1000) MCS_label=N/A
   Priority=4294901496 Nice=0 Account=(null) QOS=(null)
   JobState=RUNNING Reason=None Dependency=(null)
   Requeue=1 Restarts=0 BatchFlag=1 Reboot=0 ExitCode=0:0
   ...
</code></pre></div> <p>Note: The output of <code>scontrol show job</code> is quite long and has been truncated for brevity. To see all the information, run this command yourself with one of your job IDs.</p> <h2 id=sinfo>sinfo<a class=headerlink href=#sinfo title="Permanent link">&para;</a></h2> <p>While <code>sinfo</code> is more typically used to display information about nodes and partitions, it can also be used to monitor the resources being used by jobs in real-time. For example:</p> <p><div class=highlight><pre><span></span><code>sinfo -N -l
</code></pre></div> This command will display a long format list of all nodes, showing which nodes are allocated to which jobs, the state of each node, how much of its resources are being used, and other details.</p> <p>Here's an example of what the output might look like:</p> <div class=highlight><pre><span></span><code>Tue May 23 10:15:39 2023
NODELIST   NODES PARTITION       STATE CPUS    S:C:T MEMORY TMP_DISK WEIGHT FEATURES REASON
n0001          1  regular*   allocated   24   2:12:1  64000    48000      1   (null) none
   JOBID PARTITION     NAME     USER ST       START        END  NODES NODELIST(REASON)
  123456   regular pi_estim    myuser  R 10:15:39 10:17:39      1 n0001
</code></pre></div> <p>In this example, you can see that node <code>n0001</code> is allocated to job 123456, which is currently running. As always, remember to replace <code>123456</code> with your job ID and <code>myuser</code> with your username in these examples. And as always, the full list of options is available in the <a href=https://slurm.schedmd.com/squeue.html>SLURM documentation</a>.</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 DIPC </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/DIPCehu target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/company/donostia-international-physics-center-dipc target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.6df46069.min.js></script> </body> </html>